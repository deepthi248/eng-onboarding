<!DOCTYPE html>
<html lang="en">

<%- include('./partials/header.ejs') %>

<body>

    <form action="/signUp">
        <label for="email">Email:</label>
        <input name="email" type="email" required />
        <label for="password">password:</label>
        <input name="password" type="password" required />
        <button>Sign Up</button>
    </form>

    <%- include('./partials/footer.ejs') %>
    <script>
        const form = document.querySelector('form')

        form.addEventListener('submit', async (e) => {
            e.preventDefault()
            const email = form.email.value
            const password = form.email.password

            console.log(email, password)
            try {
                const res = await fetch('/signUp',
                    {
                        method: 'POST',
                        body: JSON.stringify({ email, password }),
                        headers: { 'Content-Type': 'application/json' }
                    }
                );
            }
            catch (err) {
                console.log(err);
            }

        })
    </script>
</body>

</html>